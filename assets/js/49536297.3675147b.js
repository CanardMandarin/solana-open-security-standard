"use strict";(self.webpackChunksolana_open_security_standard=self.webpackChunksolana_open_security_standard||[]).push([[540],{3905:(e,r,t)=>{t.d(r,{Zo:()=>l,kt:()=>h});var n=t(7294);function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){i(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=n.createContext({}),u=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},l=function(e){var r=u(e.components);return n.createElement(c.Provider,{value:r},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},m=n.forwardRef((function(e,r){var t=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=u(t),m=i,h=p["".concat(c,".").concat(m)]||p[m]||d[m]||o;return t?n.createElement(h,a(a({ref:r},l),{},{components:t})):n.createElement(h,a({ref:r},l))}));function h(e,r){var t=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=m;var s={};for(var c in r)hasOwnProperty.call(r,c)&&(s[c]=r[c]);s.originalType=e,s[p]="string"==typeof e?e:i,a[1]=s;for(var u=2;u<o;u++)a[u]=t[u];return n.createElement.apply(null,a)}return n.createElement.apply(null,t)}m.displayName="MDXCreateElement"},3388:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=t(7462),i=(t(7294),t(3905));const o={},a="Rounding Errors",s={unversionedId:"A03_arithmetic/rounding_errors",id:"A03_arithmetic/rounding_errors",title:"Rounding Errors",description:"Rounding errors occur in approximate arithmetic when a calculation is performed using a limited number of digits or precision, leading to an approximation of the exact result. In contrast to exact arithmetic, which yields precise results, approximate arithmetic introduces small discrepancies due to the truncation or rounding of numbers.",source:"@site/docs/A03_arithmetic/rounding_errors.md",sourceDirName:"A03_arithmetic",slug:"/A03_arithmetic/rounding_errors",permalink:"/solana-open-security-standard/docs/A03_arithmetic/rounding_errors",draft:!1,editUrl:"https://github.com/CanardMandarin/solana-open-security-standard/tree/main/docs/A03_arithmetic/rounding_errors.md",tags:[],version:"current",frontMatter:{},sidebar:"sidebar",previous:{title:"Integer Overflow & Underflow",permalink:"/solana-open-security-standard/docs/A03_arithmetic/integer_overflow"}},c={},u=[{value:"How To Prevent",id:"how-to-prevent",level:2}],l={toc:u},p="wrapper";function d(e){let{components:r,...t}=e;return(0,i.kt)(p,(0,n.Z)({},l,t,{components:r,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"rounding-errors"},"Rounding Errors"),(0,i.kt)("p",null,"Rounding errors occur in approximate arithmetic when a calculation is performed using a limited number of digits or precision, leading to an approximation of the exact result. In contrast to exact arithmetic, which yields precise results, approximate arithmetic introduces small discrepancies due to the truncation or rounding of numbers."),(0,i.kt)("p",null,"Rounding errors can accumulate and propagate through subsequent calculations, leading to larger discrepancies. In some cases, this can cause significant deviations in the final result, impacting the accuracy of computations."),(0,i.kt)("p",null,"Dealing with rounding errors requires careful consideration of numerical precision, appropriate rounding techniques, and, in some cases, using specialized numerical methods or arbitrary precision arithmetic to minimize the impact of these errors."),(0,i.kt)("h2",{id:"how-to-prevent"},"How To Prevent"),(0,i.kt)("p",null,"Establishing clear and consistent rounding direction policies is essential. When instructions involve sending tokens to a user, it is generally recommended to round down to the nearest value. This approach ensures that users do not receive more funds than they should, preventing overestimation."),(0,i.kt)("p",null,"On the other hand, rounding up is the preferred method in calculations that determine the amount of tokens a user should send. For instance, developers may opt to round up fees computations to guarantee that users always cover the necessary fees, even when dealing with small amounts. "),(0,i.kt)("p",null,"Minimizing rounding operations is another crucial aspect to prevent errors. Performing rounding only at the final output stage and keeping intermediate values in their full precision can help avoid cumulative errors that may arise from multiple rounding operations. By reducing the number of rounding steps, developers can maintain the accuracy of numerical computations."),(0,i.kt)("h1",{id:"reference"},"Reference"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://osec.io/blog/2022-04-26-spl-swap-rounding"},"Ottersec: Becoming a Millionaire, 0.000150 BTC at a Time")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://neodyme.io/blog/lending_disclosure/"},"Neodyme: How to Become a Millionaire, 0.000001 BTC at a Time"))))}d.isMDXComponent=!0}}]);